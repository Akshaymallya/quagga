vyatta-quagga (0.99.9-11) unstable; urgency=low

	  3.1.1
  [ Mark O'Brien ]


  [ Stephen Hemminger ]
  * Revert "Backout all changes related to using kernel for linkdetect"
  * Revert "Use if_flags_update"
  * Use if_flags_update
  * Backout all changes related to using kernel for linkdetect
  * Fix double free of bgp_table
  * Check for node being freed twice
  * Fix double free in bgp when using route client

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@firebolt.vyatta.com>  Sat, 28 Jun 2008 11:22:27 -0700

vyatta-quagga (0.99.9-10) unstable; urgency=low

	  3.1.0
  [ Mark O'Brien ]


  [ Stephen Hemminger ]
  * Workaround for package rename vs pam problem
  * Fix vtysh authorization
  * Allow any user in quagga group to run vtysh
  * netlink interface minor stuff
  * get rid of duplicate includes
  * fix compiler warnings
  * only process some isisd files
  * get rid of compiler warnings in OSPF
  * ifdef out dead code
  * fix warning from type mismatch
  * ifdef out dead code
  * flag field printf formatting in debug strings
  * comment out unused code
  * Fix compiler warnings
  * get rid of compiler warnings
  * Handle empty auth string properly
  * Add ipv6 link detect hooks
  * Change how link-detect is configured in build
  * Turn on kernel link-detect
  * ignore cscope and tags files

  [ pilot ]
  * + fix the set statement name
  * + [bgpd] Added new route-map set statement: "as-path ignore"

  [ rbalocca ]
  * Ignore derived files

  [ Stephen Hemminger ]
  * only set non-blocking on netlink socket
  * remove unneeded privledge changes
  * Rearrange RIB structures to save memory
  * Manage link state on non-connected static routes
  * Ignore netlink interface events that don't change state

  [ rbalocca ]
  * Convert to our method of changelog creation

  [ Stephen Hemminger ]
  * Add interface state change logging
  * set/check nl port id on messages
  * Force line buffered mode.

  [ Mohit Mehta ]
  * Remove extraneous smux log messages for routing daemons connectivity
    to snmpd

  [ Stephen Hemminger ]
  * remove watchlink - no longer used

  [ Mohit Mehta ]
  * Dependency for building quagga with snmp support enabled
  * Modifications to quagga to enable bgp, ospf and rip mib traversals

  [ Michael H. Warfield ]
  * TCP MD5SIG patch

  [ paul ]
  * [bgpd] remove unnecessary 0 entries from struct message's
  * [ripd] remove unnecessary 0 entries from struct message's
  * [lib] Fix the struct message LOOKUP function to be more robust
  * [lib/linklist] Enforce "nodes must have data" invariant more
    rigorously

  [ pilot ]
  * + fix bug#326 by rib_lookup_and_pushup()

  [ paul ]
  * [c++] remove/rename some names in headers that clash with C++
    reserved words
  * [tests:bgp] Further tests for 0 sized as_path segments
  * [isisd] Bug #437: fix ssert caused by bad list management
  * [bgpd] fix crash on startup if compiled IPv4-only
  * [solaris] add missing makefile.am dependency

  [ ajs ]
  * [link-detect] Improve BSD support.
  * [link-detect] Improve BSD support.
  * [link-detect] Try to get BSD link-detect to work properly.
  * [link-detect] Static interface routes should behave properly with
    link-detect.

  [ paul ]
  * [lib] add mising UL qualifier to numerical constant
  * [bgpd] Fix number of DoS security issues, restricted to configured
    peers.

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@firebolt.vyatta.com>  Tue, 17 Jun 2008 09:27:29 -0700

vyatta-quagga (0.99.9-9) unstable; urgency=low

  3.0.5
  [ Mark O'Brien ]


  [ An-Cheng Huang ]
  * fix package upgrade problem caused by prerm script.

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Tue, 06 May 2008 12:43:40 -0700

vyatta-quagga (0.99.9-8) unstable; urgency=low

  3.0.4
  [ Mark O'Brien ]


  [ Stephen Hemminger ]
  * filter out all route change responses on listen socket
  * quiet noisy errors from zebra

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Mon, 05 May 2008 16:40:58 -0700

vyatta-quagga (0.99.9-7) unstable; urgency=low

  3.0.3
  [ Mark O'Brien ]


  [ Stephen Hemminger ]
  * mark static routes as inactive when link is down
  * Don't build watchlink
  * Don't build watchlink
  * Check nexthop for internal routes
  * Check nexthop status
  * Two passes on update (ipv4 and ipv6)

  [ rbalocca ]
  * Indicate the VC4.0.2 release candidate in the changelog

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Tue, 29 Apr 2008 16:42:45 -0700

vyatta-quagga (0.99.9-6) unstable; urgency=low

  VC4.0.2
  [ Mark O'Brien ]


  [ Stephen Hemminger ]
  * Disable watchlink from the build
  * go back to building watchlink
  * Don't start watchlink

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Sat, 19 Apr 2008 11:56:27 -0700

vyatta-quagga (0.99.9-5) unstable; urgency=low

  VC4.0.2 release candidate
  [ Mark O'Brien ]

  * 3.0.2

  [ Stephen Hemminger ]
  * interface running status fix
  * Fix packet filter state machine

  [ rbalocca ]
  * Add upgrade test to prerm

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Wed, 16 Apr 2008 09:50:28 -0700

vyatta-quagga (0.99.9-4) unstable; urgency=low

  3.0.2
  [ Mark O'Brien ]

  * 3.0.1

  [ Michael Larson ]
  * bumped up netlink recv buffer limits for zebra--should alleviate
    netlink error msgs that occur under large routing tables when layer
  * support 64bit
  * added interface/address exclusion support to watchlink. The correct
    format is:
  * modified watchlink parser to support the following behaviors:
  * add wildcard for interfaces. use an "*" in place of an interface
    name--and the address provided will exclude all

  [ Stephen Hemminger ]
  * Filter unwanted netlink messages
  * fix build on on 64 bit platforms
  * add locking to prevent file update problems

  [ rbalocca ]
  * Remove unused lintian "ignore" option

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Fri, 04 Apr 2008 18:01:16 -0700

vyatta-quagga (0.99.9-3) unstable; urgency=low

  VC4.0.1
  [ Mark O'Brien ]


  [ Bob Gilligan ]
  * Bugfix: 2845

  [ Michael Larson ]
  * revert behavior for watchlink to pulling/pushing address on
    interface on IFF_RUNNING|IFF_UP event.
  * And with the correct licensing headers.

  [ Mohit Mehta ]
  * Fix Bug 2750 bgp: large ASN shown as negative
  * Fix Bug 2750 bgp: large ASN shown as negative

  [ Stephen Hemminger ]
  * Change license notice from VPL to GPLv2

  [ Stig Thormodsrud ]
  * Fix 2842: Protocol debug does not take affect until underlying log
    level

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Tue, 18 Mar 2008 19:05:11 -0700

vyatta-quagga (0.99.9-2) unstable; urgency=low

  vc4.0.0
  [ Mark O'Brien ]


  [ An-Cheng Huang ]
  * remove generated files from repo

  [ Justin Fletcher ]
  * Log to syslog daemon

  [ Michael Larson ]
  * fix for static interface and static nexthop routes for quagga. Now
    respects cable pull (IFF_RUNNING) events and admin (IFF_UP) events.
  * initial check-in of watchlink project. compiles, runs and manages
    state. needs additional testing and updates
  * removed unnecessary files.
  * packaging and make rules for base vyatta-quagga project to build
    watchlink
  * Added quagga like features to watchlink pgm: standard pid file
    creation and background option. Also
  * hooks to start/stop watchlink daemon with quagga
  * create directory for watchlink to store link status
  * moved creation of linkstatus directory from postinst to preinst
    where it should be.
  * cleaned up source a bit. added syslog error messages. added legal-
    eeze.
  * added support for filtering of interfaces. filter or exclusion list
    needs to be be written to exclude
  * removed stderr message when unable to open exclusion file. Also
    downgraded syslog entry to
  * added empty exclude file creation to make watchlink happy
  * fix bug introduced with ptp support--indexing of database and
    initialization of terminating address.
  * fix for bc addr and fix for parsing iface for show cmds and filter
  * need to qualify test for non-ethernet type interfaces to
    newlink/dellink messages only.
  * moved some stderr messages to syslog. removed stderr message when
    receiving ack from kernel on netlink msg.
  * modified watchlink to manage connected routes in local and main
    tables per interface rather than pulling interface address on cable
    pull event.
  * force so_recvbuf size to 223232 (double of 111616) for netlink in
    zebra. will also need to modify
  * fix for bug 2750. will also submit to quagga dvlprs.

  [ Stephen Hemminger ]
  * avoid package conflict between iproute and vyatta-iproute
  * Revert "avoid package conflict between iproute and vyatta-iproute"

  [ Tom Grennan ]
  * ignore autoreconf generated files
  * ignore emacs backups
  * add script to import updates from anoncvs.quagga.net
  * import into the "upstream" branch
  * initial vyatta-quagga debian config
  * finish vyatta debian config
  * use default daemon config files rather than /dev/null
  * fix log files path
  * set default logging
  * ignore debuild generated debian/vyatta-quagga.substvars
  * donot modify existing conffiles
  * separate init of vtysh.conf from other daemons
  * use "log syslog LEVEL" not "log file syslog LEVEL"
  * ignore watchlink binary
  * donot add user "vyatta" to vtysh.conf in preinit, this is now done
    during system config

  [ paul ]
  * [bgpd] Fix typo, which prevented advertisement of MP (non-IPv4)
    prefixes
  * [privs/Solaris] Quagga should work in zones with IP instances
  * [bgpd] Merge AS4 support
  * [tests] Forgot to commit ecommunity_tests.c
  * [news] Fix top-line version
  * [snmp-smux] Fix problems if 'smux peer ...' is issued multiple times
  * [ospf6d] Fix removal of defunct ASBR routes
  * 2007-10-30 Nick Hilliard <nick@inex.ie>
  * [bgpd] small fix for crash if 'listenon' argument is not given
  * [bgpd] Fix typo in previous commit to bgp_main.c

  [ pilot ]
  * * rt_socket.c: (kernel_rtm_ipv4) prefix_buf could be passed
  * Switch from LOOKUP() to lookup() for rtm_type (see bug #401 for
    details).
  * + fixed bug #402: now the second zebra process doesn't destroy
    routes
  * + sayonara old_pid!
  * + fix minor regression in OSPF sending buffer adjustment logic
  * + fix missing arg to zlog_warn()
  * + Minor bugfix: IPv6 prefixes were logged incorrectly in RIB
    debugging calls. Fixed.
  * + rib_process() speedup for multi-nexthop route nodes
  * + pidfiles are now always created with 0644 perms instead if
    LOGFILE_MASK (0600)
  * + fix the bug reported by Milan Kocian (IPv6 route handling was
    broken by the RIB debug changeset).
  * + fixed bug #418 (changing address on an existing interface doesn't
    cause existing static routes to be revalidated)
  * + fixed no_set_aspath_prepend() to correctly match existing "set"
    statement

  [ root ]
  * added support for ifa_address field in rtm_newaddr message and in
    links where the ifa_address != ifa_local then ifa_address is
    populated in setaddr message. fix for bug 2650
  * fix for bug 2648--downgraded some syslog messages and removed some
    from console.
  * fix for bug 2570. increased buffer length from 4096 to 8192
  * fix for ppp--restrict watchlink to ethernet interface types only.
    Filter by checking the ifi_type flag in ifinfomsg hdr from netlink.

  [ Mark O'Brien ]

 -- Mark O'Brien <mobrien@vyatta.com>  Mon, 25 Feb 2008 17:39:54 -0800

vyatta-quagga (0.99.9-1) unstable; urgency=low

  * based on upstream/0.99.9 == d68aac0fbecabfb765a42b3c6e5693836dafda99

 -- Tom Grennan <tgrennan@vyatta.com>  Fri, 21 Dec 2007 19:29:50 +0000

